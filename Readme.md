# Next Js Core Concept Part-1

In this module, we’ll dive into the core concepts of Next.js to take your skills to the next level. You’ll learn how to optimize images, fonts, and metadata for better performance and SEO, explore pre-rendering strategies like SSG, SSR, and ISR, and practice advanced data fetching techniques. We’ll also cover global error handling, active links, and wrap up with hands-on tasks to solidify your learning.

## 52-1 Optimize image using Image Component

```tsx
import Image from "next/image";
import nextImg from "../../../assets/31343C.svg"; // for local
const GalleryPage = () => {
  return (
    <div className="text-center">
      <h1>Regular Image Tag</h1>
      <img
        src="https://placehold.co/600x400"
        alt=""
        width={500}
        height={500}
        className="mx-auto"
      />

      <h1>Next.js image Component</h1>

      <Image
        src="https://placehold.co/600x400/png"
        alt="next image"
        width={500}
        height={500}
        className="mx-auto"
      />

      <h1>Local image Component</h1>

      {/* for local width and height is not mandatory actually  */}
      <Image src={nextImg} alt="next image" className="mx-auto" />

      <h1>From Public Local</h1>

      <Image
        src="/31343C.svg"
        alt="next image"
        width={500}
        height={500}
        className="mx-auto"
      />
    </div>
  );
};

export default GalleryPage;
```

- for the `Image` component we have to setup `next.config.mjs`

```mjs
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  // images: {
  //   remotePatterns: [new URL('https://placehold.co/600x400/png')],
  // },
  images: {
    remotePatterns: [
      {
        protocol: "https",
        // hostname: 's3.amazonaws.com', // for grabbing image from trusted sources only
        hostname: "**", // this allows images from, all sources
        // port: '',
        // pathname: '/my-bucket/**',
        // search: '',
      },
    ],
  },
};

export default nextConfig;
```

## 52-2 Optimize Fonts, Improve SEO with Metadata, and Use Import Aliases

- By default next js uses fonts which comes from `next/font/google`

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <main className="min-h-dvh">{children}</main>
      </body>
    </html>
  );
}
```

- here default variable font is used. lets use the font now

![alt text](image.png)

- using the font

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={geistMono.className}>
        <main className="min-h-dvh">{children}</main>
      </body>
    </html>
  );
}
```

- using roboto font in entire site

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono, Roboto } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

const roboto = Roboto({
  weight: "400",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        // className={geistMono.className}
        className={roboto.className}
      >
        <main className="min-h-dvh">{children}</main>
      </body>
    </html>
  );
}
```

#### If we want to use different font in a specific place

- Load fonts in layout.tsx: import Google fonts with both className (for global default) and variable (so you can selectively apply them). Example:
- inside the layout.tsx

```tsx
const roboto = Roboto({ variable: "--font-roboto", subsets: ["latin"] });
const geistSans = Geist({ variable: "--font-geist-sans", subsets: ["latin"] });
```

- Then set `<body className={${roboto.variable} ${geistSans.variable}}>`.
- Expose them in CSS (optional but clean): in globals.css, map font variables to utility classes:

```tsx
.font-roboto { font-family: var(--font-roboto); }
.font-geist-sans { font-family: var(--font-geist-sans); }

```

- Use fonts selectively in components:
  - Default site font comes from body (roboto).
  - For special cases, apply class on elements:

```tsx
<h2 className="font-geist-sans">Card Title</h2>
<p className="font-roboto">Card description</p>

```
### Lets talk about the Meta data 

- in layout.tsx file default meta data is given 

```tsx 
import type { Metadata } from "next";
import { Geist, Geist_Mono, Roboto } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

const roboto = Roboto({
  weight: '400',
  subsets: ['latin'],
})

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        // className={geistMono.className}
        className={roboto.className}
      >
        <main className="min-h-dvh">
          {children}
        </main>
      </body>
    </html>
  );
}

```
- but we want dynamic 
- lets take it the about page should have  different meta data 

```tsx 

import { Metadata } from "next";
import styles from "./About.module.css";


export const metadata: Metadata = {
  title: "About Page",
  description: "This is about page",
};

const AboutPage = () => {
    return (
        <div>
            <h1 className={styles.text_style}>About Page</h1>
        </div>
    );
};

export default AboutPage;
```
- `like this we can set static meta data we can generate dynamic meta data and set og images`

### lets talk about import alias 

- relative path import 

```
import nextImg from "../../../assets/31343C.svg"
```
- absolute path import 

```
import nextImg from "@/assets/31343C.svg"
```